(()=>{"use strict";var e={7786:(e,t,n)=>{n(3792),n(3362),n(9085),n(9391);var r=n(5130),i=n(6768);function o(e,t,n,o,l,u){var s=(0,i.g2)("Modal"),a=(0,i.g2)("Toast");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("nav",null,[t[1]||(t[1]=(0,i.Lk)("a",{href:"/"},"Dashboard",-1)),(0,i.Lk)("a",{onClick:t[0]||(t[0]=function(){return o.toggleModal&&o.toggleModal.apply(o,arguments)})},"Contact"),t[2]||(t[2]=(0,i.Lk)("a",{href:"/"},"Settings",-1))]),(0,i.Lk)("div",null,[o.showModal?((0,i.uX)(),(0,i.Wv)(i.Im,{key:0,to:"#modals"},[(0,i.bF)(s,{onClose:o.toggleModal,onSuccess:o.toggleAlert},null,8,["onClose","onSuccess"])])):(0,i.Q3)("",!0),(0,i.bF)(r.eB,{name:"toast"},{default:(0,i.k6)(function(){return[o.showAlert?((0,i.uX)(),(0,i.Wv)(a,{key:0,onClose:o.toggleAlert},{default:(0,i.k6)(function(){return t[3]||(t[3]=[(0,i.eW)("Message sent successfully",-1)])}),_:1,__:[3]},8,["onClose"])):(0,i.Q3)("",!0)]}),_:1}),t[4]||(t[4]=(0,i.Lk)("h1",null,"Welcome to the Email Tool",-1)),t[5]||(t[5]=(0,i.Lk)("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam, sunt distinctio enim veniam in id explicabo deserunt ipsum dignissimos nemo quasi soluta, repellendus, velit minima aliquam aspernatur accusamus! Mollitia minus corporis neque odit modi nisi fuga quasi dolorum architecto eius consectetur non consequuntur nostrum, molestias eos facere, dicta libero odio.",-1)),t[6]||(t[6]=(0,i.Lk)("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Adipisci veniam, alias vitae itaque sed praesentium aspernatur maiores molestiae voluptatem dicta laudantium corporis autem ullam vero libero tenetur aperiam! Minima deserunt excepturi accusamus voluptas iste labore, illo impedit in quis debitis nihil aliquam minus tempore optio architecto delectus, fugiat possimus sunt.",-1))])],64)}var l=n(144),u=n(4232),s={class:"modal"},a={key:0,class:"text-error"},c={key:0,class:"text-error"},d={class:"actions"};function p(e,t,n,o,l,p){var v=(0,i.g2)("AutoComplete");return(0,i.uX)(),(0,i.CE)("div",{onClick:t[4]||(t[4]=(0,r.D$)(function(){return o.closeModal&&o.closeModal.apply(o,arguments)},["self"])),class:"backdrop"},[(0,i.Lk)("div",s,[t[8]||(t[8]=(0,i.Lk)("h1",null,"Send an email",-1)),(0,i.Lk)("form",{onSubmit:t[3]||(t[3]=(0,r.D$)(function(){return o.submit&&o.submit.apply(o,arguments)},["prevent"]))},[(0,i.bF)(v,{recipients:o.recipients,setRecipients:function(e){return o.recipients=e},recipientsError:o.recipientsError,setRecipientsError:function(e){return o.recipientsError=e},shouldWobble:o.shouldWobble,setShouldWobble:function(e){return o.shouldWobble=e},erroredField:o.erroredField,setErroredField:function(e){return o.erroredField=e}},null,8,["recipients","setRecipients","recipientsError","setRecipientsError","shouldWobble","setShouldWobble","erroredField","setErroredField"]),(0,i.Lk)("div",null,[t[5]||(t[5]=(0,i.Lk)("label",{for:"subject"},"Subject",-1)),(0,i.bF)(r.eB,{name:"error"},{default:(0,i.k6)(function(){return[o.subjectError?((0,i.uX)(),(0,i.CE)("div",a,"("+(0,u.v_)(o.subjectError)+")",1)):(0,i.Q3)("",!0)]}),_:1}),(0,i.bo)((0,i.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.subject=e}),id:"subject",name:"subject",type:"text",placeholder:"Email subject",required:""},null,512),[[r.Jo,o.subject]])]),(0,i.Lk)("div",null,[t[6]||(t[6]=(0,i.Lk)("label",{for:"body"},"Body",-1)),(0,i.bF)(r.eB,{name:"error"},{default:(0,i.k6)(function(){return[o.bodyError?((0,i.uX)(),(0,i.CE)("div",c,"("+(0,u.v_)(o.bodyError)+")",1)):(0,i.Q3)("",!0)]}),_:1}),(0,i.bo)((0,i.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.body=e}),name:"body",id:"body",placeholder:"Body of text",minlength:"10",required:""},null,512),[[r.Jo,o.body]])]),(0,i.Lk)("div",d,[(0,i.Lk)("button",{type:"button",onClick:t[2]||(t[2]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),class:"secondary"},"Cancel"),t[7]||(t[7]=(0,i.Lk)("button",{type:"submit",class:"primary"},"Submit",-1))])],32)])])}var v={key:0,class:"text-error"},f={key:0,class:"text-error"},m={id:"recipients"},b=["value"],k={class:"recipients-list"},h={key:0,class:"loader-container"},y=["onClick"],R={class:"actions"};function g(e,t,n,o,l,s){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",null,[t[6]||(t[6]=(0,i.Lk)("label",{for:"recipient"},"Recipients",-1)),(0,i.bF)(r.eB,{name:"error"},{default:(0,i.k6)(function(){return[n.recipientsError?((0,i.uX)(),(0,i.CE)("div",v,"("+(0,u.v_)(n.recipientsError)+")",1)):(0,i.Q3)("",!0)]}),_:1}),(0,i.bF)(r.eB,{name:"error"},{default:(0,i.k6)(function(){return[o.error?((0,i.uX)(),(0,i.CE)("div",f,(0,u.v_)(o.error),1)):(0,i.Q3)("",!0)]}),_:1}),(0,i.bo)((0,i.Lk)("input",{onKeyup:t[0]||(t[0]=function(){return o.addToRecipientsOnKeyUp&&o.addToRecipientsOnKeyUp.apply(o,arguments)}),onChange:t[1]||(t[1]=function(){return o.addToRecipientsOnChange&&o.addToRecipientsOnChange.apply(o,arguments)}),class:(0,u.C4)({wobble:n.shouldWobble,error:n.erroredField}),onAnimationend:t[2]||(t[2]=function(e){return n.setShouldWobble(!1)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.tempRecipient=e}),list:"recipients",id:"recipient",name:"recipient",type:"email",placeholder:"Name or Email"},null,34),[[r.Jo,o.tempRecipient]]),(0,i.Lk)("datalist",m,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.filteredClients,function(e){return(0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.email},null,8,b)}),128))])]),(0,i.Lk)("div",k,[o.loading?((0,i.uX)(),(0,i.CE)("div",h,t[7]||(t[7]=[(0,i.Lk)("div",{class:"loader"},null,-1)]))):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.recipients,function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e,class:"pill",onClick:function(t){return o.deleteRecipient(e)}},[(0,i.eW)((0,u.v_)(e)+" ",1),t[8]||(t[8]=(0,i.Lk)("span",{class:"material-symbols-outlined cancel"},"cancel",-1))],8,y)}),128))]),(0,i.Lk)("div",R,[(0,i.Lk)("button",{type:"button",onClick:t[4]||(t[4]=(0,r.D$)(function(){return o.removeAllRecipients&&o.removeAllRecipients.apply(o,arguments)},["prevent"])),class:"secondary"},"Remove All Clients"),(0,i.Lk)("button",{type:"button",onClick:t[5]||(t[5]=(0,r.D$)(function(){return o.addAllRecipients&&o.addAllRecipients.apply(o,arguments)},["prevent"])),class:"primary"},"Enter All Customers")])],64)}var E=n(908),C=n(388),A=n(9258),L=(n(8706),n(2008),n(4423),n(2062),n(2010),n(8111),n(2489),n(1701),n(6099),n(7495),n(906),n(1415),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),n(1699),n(7764),n(2953),n(6280),n(6918),function(){var e=(0,l.KR)([]),t=(0,l.KR)(null),n=function(){var n=(0,C.A)((0,E.A)().m(function n(){var r,i;return(0,E.A)().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,fetch("https://686547495b5d8d0339808f5d.mockapi.io/spitogatos/api/customer-email-lookup");case 1:if(r=n.v,r.ok){n.n=2;break}throw Error("No data available");case 2:return n.n=3,r.json();case 3:e.value=n.v,n.n=5;break;case 4:n.p=4,i=n.v,t.value=i.message;case 5:return n.a(2)}},n,null,[[0,4]])}));return function(){return n.apply(this,arguments)}}();return{clients:e,error:t,load:n}});const w=L;var F=n(121),K=n.n(F);const j={props:["recipients","setRecipients","recipientsError","setRecipientsError","shouldWobble","setShouldWobble","erroredField","setErroredField"],setup:function(e){var t=(0,l.KR)([]),n=(0,l.KR)(""),r=(0,l.KR)(!1),o=w(),u=o.clients,s=o.error,a=o.load;(0,i.wB)(n,function(){e.setRecipientsError(!1),e.setErroredField(!1),k(n.value),n.value||(t.value=[])});var c=function(e){","===e.key&&n.value&&(n.value=n.value.split(",")[0],p())},d=function(e){n.value&&p()},p=function(){b(n.value)&&(e.recipients.includes(n.value)||e.setRecipients([].concat((0,A.A)(e.recipients),[n.value])),n.value="")},v=function(t){e.setRecipients(e.recipients.filter(function(e){return t!==e}))},f=function(){e.setRecipients([])},m=function(){var t=(0,C.A)((0,E.A)().m(function t(){var n,i;return(0,E.A)().w(function(t){while(1)switch(t.n){case 0:return e.setRecipientsError(!1),e.setErroredField(!1),r.value=!0,t.n=1,a();case 1:r.value=!1,n=u.value.map(function(e){return e.email}),i=(0,A.A)(new Set([].concat((0,A.A)(e.recipients),(0,A.A)(n)))),e.setRecipients(i);case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),b=function(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},k=K()(function(){var n=(0,C.A)((0,E.A)().m(function n(r){return(0,E.A)().w(function(n){while(1)switch(n.n){case 0:return n.n=1,a();case 1:r&&(t.value=u.value.filter(function(t){return(t.email+t.name).toLowerCase().includes(r.toLowerCase())&&!e.recipients.includes(t.email)}));case 2:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}(),400);return{tempRecipient:n,filteredClients:t,loading:r,error:s,addToRecipientsOnKeyUp:c,addToRecipientsOnChange:d,deleteRecipient:v,removeAllRecipients:f,addAllRecipients:m}}};var _=n(1241);const M=(0,_.A)(j,[["render",g]]),O=M,W={components:{AutoComplete:O},setup:function(e,t){var n=t.emit,r=(0,l.KR)([]),i=(0,l.KR)(""),o=(0,l.KR)(""),u=(0,l.KR)(""),s=(0,l.KR)(""),a=(0,l.KR)(""),c=(0,l.KR)(!1),d=(0,l.KR)(!1),p=function(){n("close")},v=function(){if(0===r.value.length)return u.value="At least one recipient is required",c.value=!0,void(d.value=!0);console.log("recipients:"+r.value+"\nsubject:"+i.value+"\nbody:"+o.value),n("success"),p()};return{recipients:r,subject:i,body:o,recipientsError:u,subjectError:s,bodyError:a,shouldWobble:c,erroredField:d,closeModal:p,submit:v}}},X=(0,_.A)(W,[["render",p]]),x=X;var S={class:"toast"};function T(e,t,n,r,o,l){return(0,i.uX)(),(0,i.CE)("div",S,[(0,i.RG)(e.$slots,"default")])}n(6031);const q={setup:function(e,t){var n=t.emit;(0,i.sV)(function(){setTimeout(function(){return n("close")},4e3)})}},B=(0,_.A)(q,[["render",T]]),Q=B,U={name:"App",components:{Modal:x,Toast:Q},setup:function(){var e=(0,l.KR)(!1),t=(0,l.KR)(!1),n=function(){e.value=!e.value},r=function(){t.value=!t.value};return{showModal:e,showAlert:t,toggleModal:n,toggleAlert:r}}},$=(0,_.A)(U,[["render",o]]),D=$;(0,r.Ef)(D).mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,i,o)=>{if(!r){var l=1/0;for(c=0;c<e.length;c++){for(var[r,i,o]=e[c],u=!0,s=0;s<r.length;s++)(!1&o||l>=o)&&Object.keys(n.O).every(e=>n.O[e](r[s]))?r.splice(s--,1):(u=!1,o<l&&(l=o));if(u){e.splice(c--,1);var a=i();void 0!==a&&(t=a)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,i,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[l,u,s]=r,a=0;if(l.some(t=>0!==e[t])){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)var c=s(n)}for(t&&t(r);a<l.length;a++)o=l[a],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkemail_modal_component"]=self["webpackChunkemail_modal_component"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[504],()=>n(7786));r=n.O(r)})();
//# sourceMappingURL=app.4a0dd456.js.map